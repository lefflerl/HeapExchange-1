<!DOCTYPE html>

<head>
    <title>Heap Exchange</title>
    <meta charset="utf-8">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="stylesheet.css">
    <script src="https://www.gstatic.com/firebasejs/5.5.6/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyDIVWvVlRh45VLYILoFcARByGjMBMuNxgY",
        authDomain: "heapexchange-d68f8.firebaseapp.com",
        databaseURL: "https://heapexchange-d68f8.firebaseio.com",
        projectId: "heapexchange-d68f8",
        storageBucket: "heapexchange-d68f8.appspot.com",
        messagingSenderId: "605368222798"
      };
      firebase.initializeApp(config);
   </script>
</head>

<body class="login">
    <h1>Heap Exchange</h1>

    <p>Login to get started</p>
    <div>
        <input type="text" size="50" id="loginEmail" placeholder=" Email Address">
        <input type="password" size="50" id="loginPassword" placeholder=" Password">
        <button onclick="checkLogin()">Login</button>
        <p>Don't have an account, click<a href="register.html"> here </a>to register</p>
    </div>

<script>
    var uemail = "";
    var upassword = "";
   
    function checkLogin (onclick) {
        uemail = document.getElementById("loginEmail").value;
        upassword = document.getElementById("loginPassword").value;
        firebase.auth().signInWithEmailAndPassword(uemail, upassword)
            .catch( error => {
                console.log(error.message);
            });
        
    }

    firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
        // User logged in
        window.location.href = "index.html";
      } else {
        // No user is signed in.
      }
    });
</script>

</body>

</html>